{% extends "core/base.html" %}
{% load staticfiles %}
{% block content %}
<div class="row">
    <div class="medium-12 columns">
        <h2>{{ stock_action|capfirst }} location</h2>
        <form action="." method="POST">
            {% csrf_token %}
            <!-- <p> {{ form.non_field_errors }} </p> -->
            <div class="reportrow">
              <h5>Choose a location</h5>
              <select id="location_id" name="location" required>
                {% for location in locations %}
                <option value="{{ location.id }}">{{ location }}</option>
                {% endfor %}
              </select>
            </div>
            <div class="reportrow">
              <h5>Actual number of boxes at location:</h5>
              <div id="sliderActual"></div>
            </div>
            <div>
              <input class="reportinput" name="actual_count" id="sliderActualText">
            </div>

            {% if stock_action == "restock" %}
              <div class="reportrow">
                <h5>Update stock count:</h5>
                <div id="sliderStock"></div>
              </div>
              <div>
                <input class="reportinput" name="stock_count" id="sliderStockText">
              </div>

              <div class="reportrow">
                <button type="submit" class="button">Submit</button>
              </div>
            {% else %}
              <input class="reportinput" type="hidden" value="0" name="stock_count" id="sliderStockText">
              <div class="reportrow">
                <button type="submit" class="button">Empty</button>
              </div>
            {% endif %}
        </form>
    </div>
</div>
{% endblock %}
{% block javascript %}
<script src="{% static 'js/nouislider.min.js' %}"></script>
<script src="{% static 'js/stock_view.js' %}"></script>
{% endblock %}
